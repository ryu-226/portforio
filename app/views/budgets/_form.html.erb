  <!-- 入力フォーム -->
  <%= form_with model: @budget, url: budget_path, local: true do |f| %>
    <%= hidden_field_tag :from_signup, params[:from_signup] %>
    <div class="mb-6">
      <%= f.label :monthly_budget, "今月の予算", class: "block font-bold mb-1 text-secondary" %>
      <div class="relative">
        <%= f.number_field :monthly_budget, min: 1, class: "w-full px-4 py-2 rounded border", autofocus: true %>
        <span class="absolute inset-y-0 right-3 flex items-center text-gray-500 pointer-events-none">円</span>
      </div>
      <% if @budget.errors[:monthly_budget].any? %>
        <div class="text-sm text-red-600 mt-1">
          <%= @budget.errors.full_messages_for(:monthly_budget).join('<br>').html_safe %>
        </div>
      <% end %>
    </div>
    <div class="mb-6">
      <%= f.label :draw_days, "ガチャする日数", class: "block font-bold mb-1 text-secondary" %>
      <div class="relative">
        <%= f.number_field :draw_days, min: 1, class: "w-full px-4 py-2 rounded border" %>
        <span class="absolute inset-y-0 right-3 flex items-center text-gray-500 pointer-events-none">日間</span>
      </div>
      <% if @budget.errors[:draw_days].any? %>
        <div class="text-sm text-red-600 mt-1">
          <%= @budget.errors.full_messages_for(:draw_days).join('<br>').html_safe %>
        </div>
      <% end %>
    </div>
    <div class="mb-6">
      <%= f.label :min_amount, "１日の最低予算", class: "block font-bold mb-1 text-secondary" %>
      <div class="relative">
        <%= f.number_field :min_amount, min: 1, class: "w-full px-4 py-2 rounded border" %>
        <span class="absolute inset-y-0 right-3 flex items-center text-gray-500 pointer-events-none">円</span>
      </div>
      <% if @budget.errors[:min_amount].any? %>
        <div class="text-sm text-red-600 mt-1">
          <%= @budget.errors.full_messages_for(:min_amount).join('<br>').html_safe %>
        </div>
      <% end %>
    </div>
    <div class="mb-6">
      <%= f.label :max_amount, "１日の最高予算", class: "block font-bold mb-1 text-secondary" %>
      <div class="relative">
        <%= f.number_field :max_amount, min: 1, class: "w-full px-4 py-2 rounded border" %>
        <span class="absolute inset-y-0 right-3 flex items-center text-gray-500 pointer-events-none">円</span>
      </div>
      <% if @budget.errors[:max_amount].any? %>
        <div class="text-sm text-red-600 mt-1">
          <%= @budget.errors.full_messages_for(:max_amount).join('<br>').html_safe %>
        </div>
      <% end %>
    </div>

    <% signup = (params[:from_signup] == '1') %>
    <%= f.submit(
      signup ? '設定を完了してガチャをまわす' : '設定を完了する',
      class: class_names(
        "w-full py-3 mt-6 text-white font-bold rounded-xl shadow transition",
        signup ? "bg-primary hover:bg-primary/80 animate-breath" : "bg-secondary hover:bg-secondary/80"
      )
    ) %>
  <% end %>  
